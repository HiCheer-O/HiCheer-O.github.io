import{_ as s,c as i,o as a,a as t}from"./app-Y7YybkpV.js";const e="/assets/image-20240919182500603-BJz42_Wx.png",n="/assets/image-20240919182550367-C7mXPsb0.png",h="/assets/image-20240919182615109-DOKDC1mQ.png",l="/assets/image-20240919182808274-4QbThUf7.png",p="/assets/image-20240919182839258-CR-X5gK6.png",k={},d=t('<h3 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h3><blockquote><p>本次安装使用的是 <code>Docker</code>与<code>docker-compose</code>，相对于传统的二进制文件安装相比，不需要关心复杂的服务器环境，只需要在服务器上安装 <code>Docker</code>即可；使用 <code>Docker</code>的时候我们只关注数据的持久化和<code>Docker容器</code>与<code>宿主机</code>的端口映射即可，其中数据持久化包括 <code>conf</code>、<code>data</code>等。</p></blockquote><h3 id="基础环境" tabindex="-1"><a class="header-anchor" href="#基础环境"><span>基础环境</span></a></h3><table><thead><tr><th>名称</th><th>版本</th></tr></thead><tbody><tr><td>服务器及操作系统</td><td>Linux、Centos 7</td></tr><tr><td>Docker</td><td>Docker version 26.1.3</td></tr><tr><td>Docker Compose</td><td>Docker Compose version v2.27.1</td></tr></tbody></table><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><ol><li><p>创建 minio 文件夹及进入minio 文件夹</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/minio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/minio</span></span></code></pre></div><p><img src="'+e+`" alt="image-20240919182500603" width="2236" height="180"></p></li><li><p>创建<code>docker-compose.yml</code></p><div class="language-yml" data-ext="yml" data-title="yml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">3.8</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # Docker Compose 文件版本</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">services</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  minio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    image</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">minio/minio:latest</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 使用最新的 MinIO 镜像</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    container_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> base-minio</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   # 容器名称设置为 base-minio</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    ports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9000:9000</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 将主机的 9000 端口映射到容器的 9000 端口（对象存储服务端口）</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9001:9001</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 将主机的 9001 端口映射到容器的 9001 端口（MinIO 控制台端口）</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    environment</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MINIO_ACCESS_KEY=minio</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # 设置 MinIO 的访问密钥</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MINIO_SECRET_KEY=minio@123</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 设置 MinIO 的秘密密钥</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    volumes</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./data:/data</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">           # 将主机的 /opt/minio/data 目录挂载到容器的 /data 目录（数据存储目录）</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./config:/root/.minio</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 将主机的 /opt/minio/config 目录挂载到容器的 /root/.minio 目录（配置文件目录）</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    command</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server /data --address &#39;0.0.0.0:9000&#39; --console-address &#39;0.0.0.0:9001&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 启动 MinIO 服务并绑定数据端口和控制台端口</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    restart</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unless-stopped</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">             # 当容器停止时，除非手动停止，否则总是重新启动</span></span></code></pre></div><p><img src="`+n+'" alt="image-20240919182550367" width="2852" height="860"></p></li><li><p>启动</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker-compose</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span></code></pre></div><p><img src="'+h+'" alt="image-20240919182615109" width="3418" height="416"></p></li></ol><h3 id="测试" tabindex="-1"><a class="header-anchor" href="#测试"><span>测试</span></a></h3><ol><li><p>访问地址</p><div class="language-http" data-ext="http" data-title="http"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://ip:9001</span></span></code></pre></div><p><img src="'+l+'" alt="image-20240919182808274" width="3600" height="2172"></p><p><img src="'+p+'" alt="image-20240919182839258" width="3600" height="2162"></p></li></ol>',8),o=[d];function r(c,g){return a(),i("div",null,o)}const y=s(k,[["render",r],["__file","index.html.vue"]]),A=JSON.parse(`{"path":"/article/hmpeg4to/","title":"Minio 安装及配置","lang":"zh-CN","frontmatter":{"title":"Minio 安装及配置","author":"HiCheer","createTime":"2024/09/19 11:23:05","permalink":"/article/hmpeg4to/","tags":["运维","Docker","Minio"],"head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":3,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":3,"title":"基础环境","slug":"基础环境","link":"#基础环境","children":[]},{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":3,"title":"测试","slug":"测试","link":"#测试","children":[]}],"readingTime":{"minutes":1.4,"words":420},"git":{"createdTime":1726124423000,"updatedTime":1726750812000,"contributors":[{"name":"HiCheer-O","email":"chendangdang1998@gmail.com","commits":3}]},"filePathRelative":"运维/minio/Minio 安装及配置.md","categoryList":[{"id":"60eec8","sort":10009,"name":"运维"},{"id":"b645ec","sort":10015,"name":"minio"}]}`);export{y as comp,A as data};
